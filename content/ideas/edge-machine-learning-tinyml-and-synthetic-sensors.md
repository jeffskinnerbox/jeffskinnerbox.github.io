
# TinyML
TinyML concerns us of ultra-low power machine learning technologies and approaches dealing with machine intelligence at the very edge of the cloud.

TinyML is a community of engineers focused on how best to implement machine learning (ML) in ultra-low power systems.

>“Imagine a cascading model of classifiers where you have a really low power model using barely any power to detect if there is a sound going on, then another model that takes more energy to run, which figures out if it’s human speech or not,” he explained. “Then a deeper network that only wakes up when these conditions are met, that uses more power and resources. By chaining these together, you only wake up the [energy intensive] one when you need to, so you can make big savings on energy efficiency.” - Daniel Situnayake, Google

# TinyML Book
* [TinyML: Machine Learning with TensorFlow Lite on Arduino and Ultra-Low-Power Microcontrollers](https://tinymlbook.com/)
* [TinyML Screencasts](https://www.youtube.com/playlist?list=PLtT1eAdRePYoovXJcDkV9RdabZ33H6Di0)

* [I Just Created my First AI/ML App! (Part 1)](https://www.eejournal.com/article/i-just-created-my-first-ai-ml-app-part-1/)
* [I Just Created my First AI/ML App! (Part 2)](https://www.eejournal.com/article/i-just-created-my-first-ai-ml-app-part-2/)
* [CR3111-3000 - 100A Current Sense Transformer 20Hz ~ 1kHz](https://www.digikey.com/product-detail/en/cr-magnetics-inc/CR3111-3000/582-1178-ND/4383872)
* [AC Current Sensor Split-Core Current Transformer](https://www.amazon.com/JANSANE-SCT-013-000-Non-invasive-Split-Core-Transformer/dp/B07JNDRJQ4)

* [Data Driven Science & Engineering Machine Learning, Dynamical Systems, and Control](http://databookuw.com/databook.pdf)
* [Hands-On Machine Learning with Scikit-Learn, Keras, and TensorFlow: Concepts, Tools, and Techniques to Build Intelligent Systems]()

* [Free Online Resources To Get A Comprehensive Understanding Of TinyML](https://analyticsindiamag.com/free-online-resources-to-get-a-comprehensive-understanding-of-tinyml/)

* [Remoticon Video: How To Use Machine Learning With Microcontrollers](https://hackaday.com/2020/12/04/remoticon-video-how-to-use-machine-learning-with-microcontrollers/)

# Himax WE-I Plus (Camera)
* [Himax WE-I Plus](https://docs.edgeimpulse.com/docs/himax-we-i-plus)
* [Himax WE-I Plus EVB Endpoint AI Development Board](https://www.sparkfun.com/products/17256)
* [Himax Launches WiseEye WE-I Plus HX6537-A with Full Support for TensorFlow Lite for Microcontrollers](https://www.hackster.io/news/himax-launches-wiseeye-we-i-plus-hx6537-a-with-full-support-for-tensorflow-lite-for-microcontrollers-484c17737b73)

# μTensor
* [μTensor](https://utensor.github.io/website/)

# SensiML
* [SensiML](https://sensiml.com/)

# TensorFlow Lite
* [TensorFlow Lite](https://www.tensorflow.org/lite)

# App Framework for ML
* [Turn Python Scripts into Beautiful ML Tools](https://towardsdatascience.com/coding-ml-tools-like-you-code-ml-models-ddba3357eace)
* [Streamlit](https://www.streamlit.io/)

# TinyML Boards
* [SparkFun Edge Development Board - Apollo3 Blue](https://www.sparkfun.com/products/15170) - $14.95
* [Ambiq]()
* [ECM3532 AI Sensor Board](https://etacompute.com/tensai-boards/) - $99.00
* [Arduino Nano 33 BLE]() - $26.00
* [ST B-L475E-IOT01A](https://docs.edgeimpulse.com/docs/unboxing-the-st-b-l475e-iot01a) - $53.00
* [M2S-HELLO-FPGA-KIT](https://www.microsemi.com/existing-parts/parts/150925)
* [Easy TinyML on ESP32 and Arduino](https://www.hackster.io/news/easy-tinyml-on-esp32-and-arduino-a9dbc509f26c)

# TinyML Tools
* [NanoEdge AI Studio](https://cartesiam.ai/)
* [Audio Analytic](https://www.audioanalytic.com/)

# ATtiny85
* [Tiny Machine Learning on the ATtiny85](https://hackaday.com/2020/01/07/tiny-machine-learning-on-the-attiny85/)


# Sensor Array / Synthetic Sensor
The [Persistent Aquatic Living Sensors (PALS) program](https://www.darpa.mil/news-events/2018-02-02)
envisions using the natural sensing capabilities of marine organisms to detect
the presence of underwater vehicles in strategic waters such as straits and littoral regions.
PALS technology would register organisms’ responses to target stimuli,
process and distill that information, and relay it to remote end users.

* [Sense All the Things with a Synthetic Sensor](http://hackaday.com/2017/05/19/sense-all-the-things-with-a-synthetic-sensor/)
* [Into The Belly Of The Beast With Placemon](https://hackaday.com/2020/09/17/into-the-belly-of-the-beast-with-placemon/)
* [Synthetic Sensors: Towards General-Purpose Sensing](http://www.gierad.com/assets/supersensor/supersensor.pdf)
* [Synthetic Sensors (Gierad Laput - ACM CHI 2017)](https://www.youtube.com/watch?v=hpxUrvTltJI)
* [Vibrosight Hears When You are Sleeping. It Knows When You’re Awake.](https://hackaday.com/2018/10/22/vibrosight-hears-when-you-are-sleeping-it-knows-when-youre-awake/)
* [Enhancing my ordinary IP security cameras with AI](https://harizanov.com/2018/03/enhancing-my-ordinary-security-cameras-with-ai/)

* [Edge Impulse](https://edgeimpulse.com/)
    * [Getting Started](https://docs.edgeimpulse.com/docs?mc_cid=a1afeb0b2e&mc_eid=9036129d51)
* [tinyML](https://www.tinyml.org/home/index.html)
* [Jan Jongboom](http://janjongboom.com/)
* [TensorFlow Lite for Microcontrollers](https://www.tensorflow.org/lite/microcontrollers)
* [Deploy your deep learning models on IoT devices using TensorFlow lite](https://medium.com/datadriveninvestor/deploy-your-deep-learning-models-on-iot-devices-using-tensorflow-lite-99d3ccdfc853)
* [Get Started with TinyML Webinar](https://www.youtube.com/watch?v=7OCIm_gh55s)
* [What’s TinyML good for](https://www.youtube.com/watch?v=Wuq2aP5O5Z0)
* [tinyML Talks](https://www.youtube.com/tinyML)
* [tinyML Summit 2020](https://www.youtube.com/playlist?list=PLeisuBi-nfBOHsFjXgWablRPm8gAxx-zn)
* [TinyML Screencasts](https://www.youtube.com/playlist?list=PLtT1eAdRePYoovXJcDkV9RdabZ33H6Di0)
* [TinyML: When Small IoT Devices Call for Compressed Machine Learning](https://www.allaboutcircuits.com/news/tinyml-when-small-iot-devices-call-for-compressed-machine-learning/)
* [Why TinyML will be huge](https://thedataexchange.media/why-tinyml-will-be-huge/)

* [Intro to TinyML Part 1: Training a Neural Network for Arduino in TensorFlow | Digi-Key Electronics](https://www.youtube.com/watch?v=BzzqYNYOcWc&t=329s)


# AI at the Very, Very Edge
* [AI at the Very, Very Edge](https://www.eetimes.com/ai-at-the-very-very-edge/)
* [Why, Hello FPGA and AI — How Nice to See You Together!](https://www.eejournal.com/article/why-hello-fpga-and-ai-how-nice-to-see-you-together/)
* [Machine Learning For a Few Dollars: Eta Compute’s ECM3532 Chip Brings Inference to the Edge](https://www.eejournal.com/article/machine-learning-for-a-few-dollars/)



# Eta Compute's ECM3532 AI Sensor Board
The ECM3532 is a dual-core (Arm Cortex-M3 plus NXP CoolFlux DSP) SoC which can support sensor fusion applications in the microwatt range for battery-powered or energy-harvesting designs. Always-on image processing and sensor applications can be achieved with a power budget of 100µW.
The low power ECM3532 AI Sensor Board contains
two PDM microphones, one pressure and temperature sensor, and one 6-axis MEMS accelerometer and gyroscope. It has a form factor of only 1.4 inch x 1.4 inch. It has a coin battery socket and Bluetooth connectivity
makes it an ideal asset for IoT deployment and field testing application prototypes.
The board also has expansion connector for add other RF interfaces.
It claims to have low power design emabling to months of operartion on a single battery cell while performing machine learning algorithms.


# Spiking Neural Networks
Neuromorphic computing aims to build digital or analog computer systems that emulate or simulate the biological brain, in order to achieve high performance and low power consumption for intelligent information processing applications.
Spiking neural networks (SNNs) is one example of neuromorphic computing.

neuromorphic computing is a concept developed in the late 1980s, describing the use of very-large-scale integration (VLSI) systems containing electronic analog circuits to mimic neuro-biological architectures present in the nervous system.

 Eta Compute is offering one of the first commercial low-power AI chip capable of
 learning on its own using a type of machine learning called spiking neural networks.

 few adherents of spiking neural networks (SNNs) as the low-power path to AI for small and battery-power-constrained sensors and gadgets.

* [Eta Compute Announces Production Silicon of the World’s Most Energy-efficient Edge AI Processor](https://www.semiconductor-digest.com/2020/02/13/eta-compute-announces-production-silicon-of-the-worlds-most-energy-efficient-edge-ai-processor/)
* [Low-Power AI Startup Eta Compute Delivers First Commercial Chips](https://spectrum.ieee.org/tech-talk/semiconductors/processors/lowpower-ai-startup-eta-compute-delivers-first-commercial-chips)

* [Eta Compute Debuts Spiking Neural Network Chip for Edge AI](https://spectrum.ieee.org/tech-talk/semiconductors/processors/eta-compute-debuts-spiking-neural-network-chip-for-edge-ai)
* [Spiking neural networks](https://towardsdatascience.com/spiking-neural-networks-558dc4479903)
* [Spiking Neural Networks, the Next Generation of Machine Learning](https://towardsdatascience.com/spiking-neural-networks-the-next-generation-of-machine-learning-84e167f4eb2b)
* [Neuromorphic Chips Are Destined for Deep Learning—or Obscurity](https://spectrum.ieee.org/semiconductors/design/neuromorphic-chips-are-destined-for-deep-learningor-obscurity)

* [AI Comes to Sensing Devices](https://www.eetimes.com/ai-comes-to-sensing-devices/)
* [AI at the Very, Very Edge](https://www.eetimes.com/ai-at-the-very-very-edge/)

* [Making TinyML Easy: Who is Edge Impulse?](https://www.eetimes.com/making-tinyml-easy-who-is-edge-impulse/#)
* [Endpoint AI in a Matter of Microwatts](https://www.eetimes.com/endpoint-ai-in-a-matter-of-microwatts/)
* [Arm Leaps Into TinyML With New Cores](https://www.eetimes.com/arm-leaps-into-tinyml-with-new-cores/)

* [ECM3532 AI Sensor Board](https://etacompute.com/tensai-boards/)
* [Edge Impulse: On your Eta Compute ECM3532](https://docs.edgeimpulse.com/docs/running-your-impulse-ecm3532)

## Continuous Voltage and Frequency Scaling Technology (CVFS)
Dynamic frequency scaling (also known as CPU throttling) is a technique in computer architecture whereby the frequency of a microprocessor can be automatically adjusted "on the fly", either to conserve power or to reduce the amount of heat generated by the chip. Dynamic frequency scaling is commonly used in laptops and other mobile devices, where energy comes from a battery and thus is limited.

CVFS might sound similar to a microprocessor technology dynamic frequency scaling but there are key differences.
Dynamic frequency scaling allows only a set of discrete voltages and frequencies.
But in CVFS voltage and frequency can range over a continuum. An algorithm constantly examines the cores’ incoming workloads and determines the voltage and frequency they require to handle the work using a minimum of energy.

* [Continuous Voltage & Frequency Scaling CVFS](https://www.youtube.com/watch?v=1Pw33mGZmwQ)


# Edge Impulse
* [Edge Impulse](https://edgeimpulse.com/)
* [Edge Impulse Documentation](https://docs.edgeimpulse.com/)
* [Building and audio recognition system](https://www.edgeimpulse.com/blog/train-a-tiny-ml-model/)

# Edge Impulse Eon
[Edge Impulse Eon](https://www.edgeimpulse.com/blog/introducing-eon)

## Seeed Wio Terminal
## ATSAMD51-based Microcontroller
* [Wio Terminal is officially supported by Edge Impulse now](https://www.seeedstudio.com/blog/2020/07/23/wio-terminal-is-officially-supported-by-edge-impulse-now/)

# Computer Vision
* [Tiny computer vision for all embedded devices](https://edgeimpulse.com/blog/computer-vision/)
* [Adding sight to your sensors](https://docs.edgeimpulse.com/docs/image-classification)

# Synthetic Sensors
* [Synthetic Sensors](http://www.gierad.com/projects/supersensor/)

# TensorFlow Lite
After building a model in TensorFlow, engineers can run it through the Tensor Flow Lite converter,
which makes it smaller and does things like quantisation, which allow you to reduce the size and precision of the model down to a scale where it will fit comfortably on the device you are targeting.

* [Official TensorFlow Lite Micro Support Comes to the ESP32](https://www.hackster.io/news/official-tensorflow-lite-micro-support-comes-to-the-esp32-9708fb6a760f)
* [Announcing TensorFlow Lite Micro support on the ESP32](https://blog.tensorflow.org/2020/08/announcing-tensorflow-lite-micro-esp32.html)

# Voice Classification
* [Pindrop](https://www.pindrop.com/)
* [Carnegie Mellon University](http://mlsp.cs.cmu.edu/people/rsingh/index.html)

# Projects
* [Autonomous embedded driving using computer vision](https://www.edgeimpulse.com/blog/autonomous-driving-using-computer-vision/)
* [BABL: A Baby Monitor Powered by tinyML and Edge Impulse!](https://www.hackster.io/ishotjr/babl-a-baby-monitor-powered-by-tinyml-and-edge-impulse-f5045f)
* [Cough Detection with TinyML on Arduino](https://www.hackster.io/edge-impulse/cough-detection-with-tinyml-on-arduino-417f37)
* [Smart Bird Feeder Powered by Edge Impulse and Balena Fin](https://www.hackster.io/mithun-das/smart-bird-feeder-powered-by-edge-impulse-and-balena-fin-bd6416)


################################################################################



The [ECM3532 AI Sensor board][01] ([datsheet][02]) is an ultra-low power AI platform with sensors
designed to run algorithms for sound classification, keyword spotting,
activity classification, context awareness, defect detection and other use cases.
The board is intended to showcases the capabilities of the [ECM3532 Neural Sensor Processor][03]
and the [Edge Impulse][04] Cloud-based [TinyML][05] lifecycle solution platform.

I won ...
The Eta Compute EC3532 AI Sensor comes in a small box
along with a [SparkFun FTDI Basic Breakout - 3.3V board][15]
and a USB cable.

>**NOTE:** You can also use a different FTDI cable,
>but make sure that it outputs 3.3V as the AI Sensor is not 5V tolerant.

# Setup for ECM3532 AI Sensor
The ECM3532 AI Sensor ([$100 on Digi-Key][06])
came with no instructions but the box's labeling did directed me to the
[Eta Compute TENSAI Boards website][01].
That in turn directed me to a [tutorial how to use the board with Edge Impulse][07].
The Edge Impulse tutorial points out that the firmware for the ECM3532 AI Sensor
is open source and [hosted on GitHub][08].

To set this device up in Edge Impulse,
you will need to install the following software:

* [Node.js v12 or higher](https://nodejs.org/en/)
* The Edge Impulse CLI version 1.7.0 or higher, and a serial monitor

Install by opening a command prompt or terminal and run:

## Step X:  Setup Development Environment - DONE
The Node.js tool [`nodeenv`][09] (node.js virtual environment) create isolated node.js environments.
It creates an environment that has its own installation directories,
that doesn’t share libraries with other node.js virtual environments
and can be integrated with the environment which was built by Python's `virtualenv`.

Let's first install the required version of Node.js:

```bash
# whats the current version of node being used
$ node --version
v6.11.1

# install the version of node required = 12.18.2
nvm install 12.18.2

# list what version of node are installed
$ nvm ls
         v4.2.6
         v6.9.4
        v6.11.1
         v7.5.0
->     v12.18.2
         system
default -> 6.11.1 (-> v6.11.1)
node -> stable (-> v12.18.2) (default)
stable -> 12.18 (-> v12.18.2) (default)
iojs -> N/A (default)
lts/* -> lts/erbium (-> v12.18.2)
lts/argon -> v4.9.1 (-> N/A)
lts/boron -> v6.17.1 (-> N/A)
lts/carbon -> v8.17.0 (-> N/A)
lts/dubnium -> v10.21.0 (-> N/A)
lts/erbium -> v12.18.2

# the install updates the node version being used
$ node --version
v12.18.2

# do install again in future to re-set it to 12.18.2
nvm install 12.18.2
```

Next we'll setup a development environment for our work:

```bash
# create your development directory
mkdir ~/src/ai-sensor
cd ~/src/ai-sensor

# create python virtual environment called emc3532
mkvirtualenv emc3532 -p python3

# activate the virtual environment
workon emc3532

# install nodeenv
pip install nodeenv

# now create a node virtual environment
nodeenv emc3532

# what is the current version of node in use
nvm current
node --version

# change node version to desired target
nvm install 12.18.2
```

Next we install the [Edge Impulse CLI][10] version 1.7.0 or higher, and a serial monitor.
This set of tools is used to control local devices,
act as a proxy to synchronise data for devices that don't have an internet connection,
and to upload and convert local files. The CLI consists of these tools:

* **[`edge-impulse-daemon`][11]** - configures devices over serial, and acts as a proxy for devices that do not have an IP connection
* **[`edge-impulse-uploader`][12]** - allows uploading and signing local files
* **[`edge-impulse-data-forwarder`][13]** - a very easy way to collect data from any device over a serial connection, and forward the data to Edge Impulse
* **[`eta-flash-tool`][14]** - to flash the Eta Compute ECM3532 AI Sensor

```bash
# install edge impulse cli tools
npm install -g edge-impulse-cli @serialport/terminal
```

## Step X: Connect Board to Your Computer - DONE
The Eta Compute EC3532 AI Sensor comes with a [SparkFun FTDI Basic Breakout - 3.3V board][15] in the box.
This breakout board is used to program the AI Sensor and to relay serial messages back to your computer.
You can also use a different FTDI & cable, **but make sure that it outputs 3.3V**
as the AI Sensor is not 5V tolerant.

See [here][16] for futher details on connecting the FTDI to the board.
When you plug the board into your computer,
the `lsusb` and `ls /dev/ttyUSB*` command will give _something like_:

```bash
# lsusb command gives you
$ lsusb
  .
  .
Bus 003 Device 019: ID 0403:6001 Future Technology Devices International, Ltd FT232 Serial (UART) IC
  .
  .

# ls /dev/ttyUSB* gives you
$ ls /dev/ttyUSB*
/dev/ttyUSB0
```

## Step X: Update the Board's Firmware - DONE
The development board needs to be updated with the latest firmware.
Download the firmware and do the install via:

```bash
# download the edge impulse firmware
mkdir ~/Downloads/ecm3532
cd ~/Downloads/ecm3532
wget https://cdn.edgeimpulse.com/firmware/eta-compute-ecm3532-ai-sensor.zip

# unzip the fireware
unzip eta-compute-ecm3532-ai-sensor.zip

# plug usb cable + FTDI + board into computer

# flash the board
$ ./flash_linux.sh
Flashing board... If you receive a 'Permission denied' error, you can set up udev rules via:
    printf 'KERNEL=="ttyUSB[0-9]*",MODE="0666"\\nKERNEL=="ttyACM[0-9]*",MODE="0666"' | sudo tee -a /etc/udev/rules.d/50-myusb.rules
(unplug the device for this to take effect)

[ETA] Connecting to /dev/ttyUSB0...
[ETA] Connected, restarting into bootloader...
[ETA] Not in bootloader mode yet... Restarting into bootloader at baud rate 460800...
[ETA] Restarting into bootloader OK
[ETA] Restarted into bootloader. Device is running version 1.0.2
[ETA] Firmware is 256664 bytes (63 blocks)
 ████████████████████████████████████████ 100% | ETA: 0s | 63/63
[ETA] Finalizing update...
[ETA] Update complete, rebooting into application
[ETA] Update completed

Flashed your Eta Compute ECM3532 AI Sensor development board.
To set up your development with Edge Impulse, run 'edge-impulse-daemon'
```

## Step X: Establish Edge Impulse Project
Within your established development envirnenment,
we'll start a wizard which will ask you to log in, and choose an Edge Impulse project.
Before doing this, make sure to establish a login on the [Edge Impulse development studio][17].

```bash
# run this wizard
$ edge-impulse-daemon
Edge Impulse serial daemon v1.7.1
? What is your user name or e-mail address (edgeimpulse.com)? jirland
? What is your password? [hidden]
Endpoints:
    Websocket: wss://remote-mgmt.edgeimpulse.com
    API:       https://studio.edgeimpulse.com/v1
    Ingestion: https://ingestion.edgeimpulse.com

[SER] Connecting to /dev/ttyUSB0
[SER] Serial is connected, trying to read config...
[SER] Retrieved configuration
[SER] Device is running AT command version 1.3.0
Configuring API key in device... OK
Configuring HMAC key in device... OK
? What name do you want to give this device? ai-sensor
Setting upload host in device... OK
Configuring remote management settings... OK
[SER] Device is not connected to remote management API, will use daemon
[WS ] Connecting to wss://remote-mgmt.edgeimpulse.com
[WS ] Connected to wss://remote-mgmt.edgeimpulse.com
[WS ] Authenticated

```

## Step X: Building a ML Model
With everything set up you can now build your first machine learning model with these tutorials:
https://docs.edgeimpulse.com/docs/eta-compute-ecm3532-ai-sensor#next-steps-building-a-machine-learning-model

## Step X: xxx

# Using Smartphone as Sensor



-------



# Sound Detector
* [Sound Detector Hookup Guide](https://media.digikey.com/pdf/Data%20Sheets/Sparkfun%20PDFs/SoundDetector_HookupGuide.pdf)
* [Toilet sensors warn of overflows, leaks](https://www.fierceelectronics.com/sensors/toilet-sensors-warn-overflows-leaks)
* [Best water leak detectors for smart homes](https://www.techhive.com/article/3138905/best-water-leak-detectors-for-smart-homes.html)
* [LeakAlertor](https://leakalertor.com/)
* [The 5 Best Smart Water Leak Detectors Compared](https://restechtoday.com/guide-5-modern-leak-detectors/)



[01]:https://etacompute.com/tensai-boards/
[02]:https://etacompute.com/wp-content/uploads/2020/06/ECM3532-AI-Sensor-Databrief-1.0.pdf
[03]:https://etacompute.com/tensai-soc/
[04]:https://www.edgeimpulse.com/
[05]:https://www.tinyml.org/home/index.html
[06]:https://www.digikey.com/products/en?keywords=ECM3532-ASBK
[07]:https://docs.edgeimpulse.com/docs/eta-compute-ecm3532-ai-sensor
[08]:https://github.com/edgeimpulse/firmware-eta-compute-ecm3532
[09]:https://pypi.org/project/nodeenv/
[10]:https://docs.edgeimpulse.com/docs/cli-installation
[11]:https://docs.edgeimpulse.com/docs/cli-daemon
[12]:https://docs.edgeimpulse.com/docs/cli-uploader
[13]:https://docs.edgeimpulse.com/docs/cli-data-forwarder
[14]:https://docs.edgeimpulse.com/docs/cli-eta-flash-tool
[15]:https://www.sparkfun.com/products/9873
[16]:https://docs.edgeimpulse.com/docs/eta-compute-ecm3532-ai-sensor#1-connect-the-development-board-to-your-computer
[17]:https://studio.edgeimpulse.com/login
[18]:
[19]:
[20]:
